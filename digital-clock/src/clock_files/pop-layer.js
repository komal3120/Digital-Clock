(window["webpackJsonp-ae-fe/cosmos-1"]=window["webpackJsonp-ae-fe/cosmos-1"]||[]).push([[8],{103:function(e,t,n){"use strict";var i=n(26);t.__esModule=!0,t.sendPoint=function(e,t){void 0===e&&(e="click");void 0===t&&(t={});"exposure"===e?function(e){a({path:"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:e})}(t):"click"===e&&function(e){a({path:"/ae.pc_click.statweb_ae_click",event:"CLK",params:e})}(t)};var r=i(n(4)),o=n(70);function a(e){try{var t=(0,r.default)({st_page_id:window.dmtrack_pageid||""},e.params),n=(0,o.serializeParams)(t);o.isSmbLog&&console.log("埋点：","path:"+e.path+", event:"+e.event+", 参数：",t),window.goldlog.record(e.path,e.event,n,"GET")}catch(e){}}},285:function(e,t,n){"use strict";n(286);var i=n(26);t.__esModule=!0,t.execCallApp=function(e){void 0===e&&(e={});c||(c=new r.default);c.execCallApp(e)},t.getAppStoreUrl=function(e){void 0===e&&(e={});return(0,o.createAppStoreUrl)(e.APPSTORE_URL||"//s.click.aliexpress.com/i/_bFomh7?aff_platform=msite&channel=in_msite_top",e)},t.Log=t.Utils=void 0;var r=i(n(287)),o=l(n(70)),a=l(n(103));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}var c=null;var p=o;t.Utils=p;var d=a;t.Log=d},286:function(e,t){},287:function(e,t,n){"use strict";var i=n(26);t.__esModule=!0,t.default=t.DEFAULT_TIMEOUT=t.SMB_VERSION=void 0;var r=i(n(4)),o=i(n(288)),a=n(70),s=n(103),l=o.default.version;t.SMB_VERSION=l;t.DEFAULT_TIMEOUT=3e3;var c=window.location.host,p=function(){function e(){var e=this;this.execCallApp=function(t){void 0===t&&(t={}),e.init(t);var n=e.options;e.exposurePoint();setTimeout((function(){e.autoRedirectStart=+new Date,window.location.href=n.callAppUrl}),0);var i=(0,a.isAndroid)()?3500:3e3;e.redirectTimer=setTimeout((function(){e.autoRedirectEnd=+new Date;var t=(0,r.default)({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!1,redirectUrl:encodeURIComponent(n.redirectUrl),callAppUrl:encodeURIComponent(n.callAppUrl)},e.getCommonPointParams());n.sendPoint&&(0,s.sendPoint)("click",t,n),(0,a.isFunction)(n.callAppCallback)&&n.callAppCallback(!1,t,n),n.needRedirect&&(window.location.href=n.redirectUrl),e.clearRedirectField()}),i),e.hasRedirectTimer=!0},this.bindEvent(),this.hasExposure=!1}var t=e.prototype;return t.init=function(e){void 0===e&&(e={}),this.version=l,this.hasBindEvent=!1,this.redirectTimer=null,this.hasRedirectTimer=!1,this.isAutoCallRedirect=!1,this.autoRedirectStart=null,this.autoRedirectEnd=null;var t=Object.assign({pageCode:(0,a.getPageCode)(),callAppUrl:"aliexpress://home",targetUrl:"",needRedirect:!0,callAppCallback:null,isAutoCall:!1,sendPoint:!0,spm:[(0,a.getPageSpm)(),"smartbanner","0"].join("."),pageId:window.dmtrack_pageid||"",timeout:3e3,activityId:"","spm-url":(0,a.getParameterByName)("spm"),cookieInfo:{},extParams:{}},e);t.cookieInfo=t.cookieInfo||{},t.extParams=t.extParams||{},t.redirectUrl=(0,a.createRedirectUrl)(t.targetUrl||(0,a.getDefaultTargetUrl)(),t)||"",t.callAppUrl=(0,a.createCallAppUrl)(t.callAppUrl,t)||"",this.options=t},t.getCommonPointParams=function(){var e=this.options,t=void 0===e?{}:e;return(0,r.default)({host:c,fromPageCode:t.pageCode||"",m_page_id:t.pageId||"","spm-url":t["spm-url"]||"","spm-cnt":t.spm||"",abId:t.abId||"",bktId:t.bktId||"",version:this.version,isAutoCall:t.isAutoCall||"",activityId:t.activityId||"",needRedirect:t.needRedirect},t.cookieInfo)},t.exposurePoint=function(){if(!this.hasExposure){this.hasExposure=!0;var e=this.options;(0,s.sendPoint)("exposure",(0,r.default)({exp_page_area:"smartbanner_core",exp_type:"in_download_bar_core",exp_page:e.pageCode||""},this.getCommonPointParams()))}},t.bindEvent=function(){var e=this;this.hasBindEvent||(this.hasBindEvent=!0,document.addEventListener("visibilitychange",(function(){if(document.hidden&&e.redirectTimer&&e.hasRedirectTimer){var t=e.options;e.autoRedirectEnd=+new Date;var n=(0,r.default)({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!0,redirectUrl:encodeURIComponent(t.redirectUrl),callAppUrl:encodeURIComponent(t.callAppUrl)},e.getCommonPointParams());t.sendPoint&&(0,s.sendPoint)("click",n,t),(0,a.isFunction)(t.callAppCallback)&&t.callAppCallback(!0,n),e.clearRedirectTimer(),e.clearRedirectField()}})))},t.clearRedirectField=function(){this.autoRedirectStart=null,this.autoRedirectEnd=null,this.isAutoCallRedirect=!1},t.clearRedirectTimer=function(){this.hasRedirectTimer=!1,window.clearTimeout(this.redirectTimer)},e}();t.default=p},288:function(e){e.exports=JSON.parse('{"_args":[["@alife/heaven-smart-banner-core@0.1.9","/cloud/source_code"]],"_from":"@alife/heaven-smart-banner-core@0.1.9","_id":"@alife/heaven-smart-banner-core@0.1.9","_inBundle":false,"_integrity":"sha1-60QS9Pmu6gfZpLPPQa3gukFeVO4=","_location":"/@alife/heaven-smart-banner-core","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@alife/heaven-smart-banner-core@0.1.9","name":"@alife/heaven-smart-banner-core","escapedName":"@alife%2fheaven-smart-banner-core","scope":"@alife","rawSpec":"0.1.9","saveSpec":null,"fetchSpec":"0.1.9"},"_requiredBy":["/@ali/poplayer-web-container","/@alife/nano-smart-banner"],"_resolved":"https://registry.npm.alibaba-inc.com/@alife/heaven-smart-banner-core/download/@alife/heaven-smart-banner-core-0.1.9.tgz","_spec":"0.1.9","_where":"/cloud/source_code","author":{"name":"老邬"},"componentConfig":{"name":"@alife/heaven-smart-banner-core","title":"","desc":""},"dependencies":{"@alife/zoro-cookie":"^2.0.10","prop-types":"^15.5.8"},"description":"唤端执行方法","devDependencies":{"@alib/build-scripts":"^0.1.20","@types/classnames":"^2.2.10","@types/enzyme":"^3.10.5","@types/enzyme-adapter-react-16":"^1.0.6","@types/jest":"^25.1.4","@types/react":"^16.9.33","@types/react-dom":"^16.9.6","@typescript-eslint/eslint-plugin":"^2.26.0","@typescript-eslint/parser":"^2.26.0","build-plugin-component":"^0.2.15","build-plugin-fusion":"^0.1.2","build-plugin-moment-locales":"^0.1.0","enzyme":"^3.11.0","enzyme-adapter-react-16":"^1.15.2","eslint":"^6.8.0","eslint-plugin-react":"^7.19.0","identity-obj-proxy":"^3.0.0","jest":"^25.2.4","react":"^16.13.1","react-dom":"^16.13.1","ts-jest":"^25.3.0","typescript":"^3.8.3"},"heavenConfig":{"authors":"老邬","createdDate":"1588735826157","updatedDate":"1588735826157","version":"0.0.1","category":"基础组件","biz":"基础链路","framework":"React","platform":"PC","tags":"a,b,c"},"homepage":"https://unpkg.alibaba-inc.com/@alife/heaven-smart-banner-core@0.1.9/build/index.html","keywords":[],"license":"MIT","main":"lib/index.js","module":"es/index.js","name":"@alife/heaven-smart-banner-core","publishConfig":{"registry":"https://registry.npm.alibaba-inc.com"},"scripts":{"build":"build-scripts build","start":"build-scripts start","test":"build-scripts test"},"types":"es/index.d.ts","version":"0.1.9"}')},289:function(e,t){},290:function(e,t,n){"use strict";var i={},r=decodeURIComponent,o=encodeURIComponent;function a(e){return"string"==typeof e}function s(e){return a(e)&&""!==e}function l(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function c(e){return e}i.get=function(e,t){l(e),t="function"==typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(a(e)&&e.length>0)for(var i,o,s,l=t?r:c,p=e.split(/;\s/g),d=0,u=p.length;d<u;d++){if((s=p[d].match(/([^=]+)=/i))instanceof Array)try{i=r(s[1]),o=l(p[d].substring(s[1].length+1))}catch(e){}else i=r(p[d]),o="";i&&(n[i]=o)}return n}(document.cookie,!t.raw);return(t.converter||c)(n[e])},i.set=function(e,t,n){l(e);var i=(n=n||{}).expires,r=n.domain,a=n.path;n.raw||(t=o(String(t)));var c=e+"="+t,p=i;return"number"==typeof p&&(p=new Date).setDate(p.getDate()+i),p instanceof Date&&(c+="; expires="+p.toUTCString()),s(r)&&(c+="; domain="+r),s(a)&&(c+="; path="+a),n.secure&&(c+="; secure"),document.cookie=c,c},i.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)};var p=i;t.default=p},291:function(e,t,n){"use strict";t.getFixedDomainUrl=function(){return i};var i="aliexpress.com";[{reg:/aliexpress.ru/,domain:"aliexpress.ru"},{reg:/tmall.ru/,domain:"tmall.ru"}].forEach((function(e){e.reg.test(window.location.host)&&(i=e.domain)}))},292:function(e,t){},300:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),o=n(9),a=n.n(o),s=n(4),l=n.n(s),c=n(0),p=n.n(c),d=n(285);n(289);var u=1,m=function(){function e(e){this.copyId=void 0,this.containerId=void 0,this.isDestory=void 0,this.isInit=void 0,this.isInit=!1,this.init(e)}var t=e.prototype;return t.init=function(e){if(!this.isInit){this.isInit=!0,this.copyId="copy_textarea_"+u,this.containerId="copy_box_"+u;var t=this.getCopyBoxHtml(e.text),n=document.getElementsByTagName("body")[0],i=document.createElement("div");i.setAttribute("style","position: relative"),i.setAttribute("id",this.containerId),i.innerHTML=t,n.appendChild(i),this.isDestory=!1,u+=1}},t.copy=function(e){if(!this.isDestory){var t=document.getElementById(this.copyId);if(t)try{t.focus(),t.select();var n=!1;document.queryCommandSupported("copy")&&(n=document.execCommand("copy",!1,null)),e&&e(n)}catch(t){e&&e(!1)}}},t.destory=function(){if(!this.isDestory){var e=document.getElementById(this.containerId);try{e&&e.remove(),this.isDestory=!0}catch(e){}}},t.getCopyBoxHtml=function(e){void 0===e&&(e="");var t=this.getCopyTextStyle();return['<textarea id="'+this.copyId+'" readOnly style="'+t+'" value="'+e+'" >'+e+"</textarea>"].join("")},t.getCopyTextStyle=function(){return["font-size: 12px;","border: 0;","padding: 0;","margin: 0;","position: absolute;","left: -9999px;","top: "+(window.pageYOffset||document.documentElement.scrollTop)+"px;"].join("")},e}(),f=n(290),v=n(291),g=function(e,t){var n=f.default.get(e,{domain:(0,v.getFixedDomainUrl)(),path:"/",raw:!0})||"",i=new RegExp("(.*&?"+t+"=)(.*?)(&.*|$)");n.match(i);var r=RegExp.$2;return i.test(n)&&function(e,t){var n={b_localeFormat:/^[a-z]{2}_[A-Z]{2}$/,c_tpFormat:/^[A-Z]{3}$/,regionFormat:/^[A-Z]{2,3}$/,signFormat:/^(y|n)$/,x_as_iFormat:/^([A-Za-z0-9]|(%))+/,acs_rtFormat:/^[A-Za-z0-9]+$/};return!/(&|=)/.test(t)&&(t&&n[e+"Format"]&&n[e+"Format"].test(t))}(t,r)?r:""};window.__getCookie=g;var y="poplayer-web-container-cachetimes",h=location.href.substring(0,location.href.indexOf("#")<0?location.href.length:location.href.indexOf("#")),_=h.substr(h.indexOf("?")),w={};_&&_.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),(function(e,t,n,i){return w[t]=decodeURIComponent(i),""}));var x=n(104),b=n(106),E=n(107),S=n(105);function C(e){var t=e.getContext("2d");if(!t)return!1;for(var n=t.getImageData(0,0,e.offsetWidth||e.width,e.offsetHeight||e.height),i=0;i<n.data.length;i+=4)if(0!==n.data[i+3]&&255!==n.data[i]&&255!==n.data[i+1]&&255!==n.data[i+2])return!1;return!0}var I=function(){function e(e){this.containerQuerySelector="BODY",this.containerQuerySelector=e||"BODY"}return e.prototype.apply=function(e){var t=this;e.hooks.onEightSecond.tapAsync("canvas",(function(e){var n=document.querySelector(t.containerQuerySelector),i=(null==n?void 0:n.querySelectorAll("canvas"))||[],r=Array.from(i).find(C);if(r){var o="#"+(r.id||"")+"."+(r.className||"");return e({c1:"CANVAS",c2:t.containerQuerySelector,c3:o,c4:"",c5:""})}e()}))},e}(),k=n(102),T=n.n(k),R=function(e){return Object.keys(Object.getPrototypeOf(e)).reduce((function(t,n){var i;return Object.assign(t,((i={})[n]=e[n],i))}),Object.assign({},e))};function A(e){var t,n;void 0===e&&(e="BODY");var i=document.querySelector(e);if(!i)return[];var r=document.createNodeIterator(i,NodeFilter.SHOW_TEXT);for(var o,a,s=null,c=[];s=r.nextNode();)if(s&&s.wholeText.trim().length){var p=(o=s,a=void 0,(a=document.createRange()).selectNode(o),a.getBoundingClientRect());p.top>=0&&p.left>=0&&p.width>0&&p.height>0&&c.push(l()({},R(p),{type:"text"}))}Array.from(i.getElementsByTagName("img")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&c.push(l()({},R(t),{type:"img"}))})),Array.from(i.getElementsByTagName("svg")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&c.push(l()({},R(t),{type:"svg"}))})),Array.from(i.getElementsByTagName("canvas")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&c.push(l()({},R(t),{type:"canvas"}))}));var d=JSON.stringify({title:e,width:null==i||null===(t=i.getBoundingClientRect())||void 0===t?void 0:t.width,height:null==i||null===(n=i.getBoundingClientRect())||void 0===n?void 0:n.height,pagePortrait:c.map((function(e){var t,n;return l()({},e,{x:e.x-(null==i||null===(t=i.getBoundingClientRect())||void 0===t?void 0:t.left),y:e.y-(null==i||null===(n=i.getBoundingClientRect())||void 0===n?void 0:n.top)})}))});return T.a.compress(d)}n(292);var O=function(e){window.AES_QUEUE&&window.AES_QUEUE.push(e)},P=function(e,t,n){var i,r,o,a;if("function"==typeof(null===(i=window)||void 0===i||null===(r=i._AES)||void 0===r?void 0:r.AESPluginEvent)){var s={};if("string"==typeof t){for(var c={},p=arguments.length,d=new Array(p>3?p-3:0),u=3;u<p;u++)d[u-3]=arguments[u];d.forEach((function(e,t){c["c"+(t+1)]=e})),s=l()({et:t,xpath:n},c)}else s=t;-1==["EXP","CLK","SLD","INPUT","SYS","OTHER"].indexOf(s.et)&&console.warn&&console.warn("'et' should been 'EXP','CLK','SLD','INPUT','SYS', 'OTHER'"),null===(o=window)||void 0===o||null===(a=o._AES)||void 0===a||a.AESPluginEvent(e,s)}},U=function(e,t){void 0===t&&(t=!1);try{!function(e,t,n){void 0===e&&(e="BODY"),void 0===t&&(t=!1);var i=new x.a,r=new E.a(e),o=new b.a(e),a=new S.a(e),s=new I(e);r.apply(i),o.apply(i),a.apply(i),s.apply(i),i.run((function(i){void 0===i&&(i={}),i&&n(l()({},i,{c4:t?A(e):""}))}))}(e,t,(function(e){var t=e.c1,n=e.c2,i=e.c3,r=e.c4,o=void 0===r?"":r,a=e.c5,s=void 0===a?"":a,l=e.c6;t&&P("FFFFFF","OTHER","",t,n,i,o,s,void 0===l?"":l)})),window.__isInitGEPWhitePageDetect||(window.__isInitGEPWhitePageDetect=!0)}catch(e){console.error(e)}};function D(e){try{"function"==typeof e&&e()}catch(e){console.error(e)}}window.GEP_READY_LISTENER=window.GEP_READY_LISTENER||[];var N,L,M,B=window.GEP_READY_LISTENER||[];if(B.isProxy||(window.GEP_READY_LISTENER=new Proxy(B,{set:function(e,t,n,i){return"length"!==t&&D(n),!0},get:function(e,t,n){return"isProxy"===t||Reflect.get(e,t,n)}})),window.GEP_READY_LISTENER&&window.GEP_READY_LISTENER.length)try{setTimeout((function(){window.GEP_READY_LISTENER.forEach((function(e){D(e)}))}),0)}catch(e){console.error(e)}setTimeout((function(){window.__isInitGEPWhitePageDetect||U("BODY",!1)}),0),null!==(N=window)&&void 0!==N&&N.GEP_EVENT_QUEUE&&(null!==(L=window)&&void 0!==L&&null!==(M=L.GEP_EVENT_QUEUE)&&void 0!==M&&M.length&&window.GEP_EVENT_QUEUE.forEach((function(e){void 0===e&&(e={});var t=e,n=t.eventId,i=t.et,r=t.xpath,o=t.args;P.apply(void 0,[n,i,r].concat(void 0===o?[]:o))})),window.GEP_EVENT_QUEUE=null);var j=n(94),F=n.n(j);function G(e,t){F.a.error(new Error(e),{filename:t}),function(e,t,n,i,r){void 0===t&&(t="empty"),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r="empty");try{var o={};if("string"==typeof e)o={message:e,url:t,lineno:n,colno:i,stack:r};else{var a=e.message,s=e.url,l=void 0===s?"empty":s,c=e.lineno,p=void 0===c?0:c,d=e.colno,u=void 0===d?0:d,m=e.stack;o={message:a,url:l,lineno:p,colno:u,stack:void 0===m?"empty":m}}O({action:"log",arguments:["js_error",o]})}catch(e){console.error(e)}}(new Error(e))}function H(e,t,n,i){if(void 0===n&&(n=""),void 0===i&&(i=""),t)return F.a.api.success(e,n,"200"),void function(e,t,n,i,r){void 0===n&&(n=0),void 0===i&&(i=""),void 0===r&&(r="");var o={};if("string"==typeof e){var a={success:!0,status:200,code:"LOGIC_SUCCESS",trace_id:"",headers:"",rtype:"xhr"};o=l()({},a,{url:e,msg:t,duration:n,params:i,response:r})}else{var s={success:!0,status:200,code:"LOGIC_SUCCESS",trace_id:"",headers:"",rtype:"xhr"};o=l()({},s,e)}O({action:"log",arguments:["api",o]})}({url:e,rtype:"mtop"});try{"object"==typeof i&&(i=JSON.stringify(i))}catch(e){}F.a.api.error(e,n,"ERROR",i),function(e,t,n,i,r){void 0===n&&(n=0),void 0===i&&(i=""),void 0===r&&(r="");var o={};if("string"==typeof e){var a={success:!1,status:200,code:"LOGIC_ERROR",trace_id:"",headers:"",rtype:"xhr"};o=l()({},a,{url:e,msg:t,duration:n,params:i,response:r})}else{var s={success:!1,status:200,code:"LOGIC_ERROR",trace_id:"",headers:"",rtype:"xhr"};o=l()({},s,e)}O({action:"log",arguments:["api",o]})}({url:e,rtype:"mtop",msg:i})}function J(e,t,n){var i,r,o;"detail"===(null===(i=window)||void 0===i||null===(r=i.g_SPM)||void 0===r||null===(o=r._current_spm)||void 0===o?void 0:o.b)&&"poplayerShow"===e&&F.a.report({t10:Promise.resolve(n)}),P(e,{et:t,xpath:"html/body/div",c1:n})}var z=!1;window.lib&&window.lib.mtop||(z=!0,n(22));var Y=function(){var e=r()(p.a.mark((function e(t,n){var i,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),z&&((i=window.lib.mtop.config).H5Request=!0,i.prefix=w.__prefix||"acs",i.subDomain="",i.mainDomain=location.hostname.indexOf("aliexpress")>=0?location.hostname.substr(location.hostname.indexOf("aliexpress")):"aliexpress.com"),r=l()({},t,{v:t.v||"1.0",encode:"1",ecode:1,appKey:24815441,data:t.data}),o=Date.now(),e.abrupt("return",window.lib.mtop.request(r).then((function(e){var n,i;null!=e&&null!==(n=e.data)&&void 0!==n&&n.success?H(t.api,!0,""+(Date.now()-o)):H(t.api,!1,""+(Date.now()-o),null==e||null===(i=e.ret)||void 0===i?void 0:i[0]);return e})).catch((function(e){throw H(t.api,!1,""+(Date.now()-o),""+e),e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(e,t){var n,i,r,o;void 0===t&&(t="pc");var a=g("aep_usuc_f","b_locale"),s=g("aep_usuc_f","region"),l=a&&(null==a||null===(n=a.split("_"))||void 0===n?void 0:n[0])+"_"+s,c=g("aep_usuc_f","c_tp"),p=g("xman_us_f","acs_rt"),d=g("xman_us_f","x_as_i");return Y({type:"POST",api:"mtop.aliexpress.usertouch.poplayer.get",v:"2.0",data:{_currency:c,_lang:l="en_CN"===l?"en_US":l,clientType:t,positionSign:e,ext:JSON.stringify({pullTrafficRuleParam:{originalUrl:null===(i=window)||void 0===i||null===(r=i.location)||void 0===r?void 0:r.href,appAffiParameters:decodeURIComponent(d||"")||"",acsRt:p,referUrl:null===(o=document)||void 0===o?void 0:o.referrer}})}})};function Q(e){throw e}var W={},$="";function V(e){$=e;var t=y+"-"+e,n=localStorage.getItem(t)||localStorage.getItem(y)||"";try{n&&(W=JSON.parse(n)||{})}catch(e){W={}}}var K,X=function(){return W},Z=(K={reducer:function(e){switch(void 0===e&&(e={}),e.type){case"add":return e.payload;case"reduceTime":return t=e.payload.key,(i=W[t]).times-i.showTimes>0?l()({},W,((n={})[t]=l()({},i,{showTimes:i.showTimes+1}),n)):W;case"addTime":return function(e,t){var n,i=W[e];return l()({},W,((n={})[e]=l()({},i,{showTimes:i.showTimes-t}),n))}(e.payload.key,e.payload.times);default:Q("action should has type property")}var t,n,i},afterProcess:[function(e){W=e;var t=$?y+"-"+$:y;localStorage.setItem(t,JSON.stringify(W))}]},function(e){var t;void 0===e&&(e={});var n=K.reducer(e);null==K||null===(t=K.afterProcess)||void 0===t||t.forEach((function(e){e(n)}))}),ee=["https://campaign.aliexpress.com","http://campaign.aliexpress.com","https://pre-wormhole.aliexpress.com","http://pre-wormhole.aliexpress.com"],te=function(){var e="postMessage"in window;function t(e,t,n){var i="";if(arguments.length<2?i="target error - target and name are both required":"object"!=typeof e?i="target error - target itself must be window object":"string"!=typeof t&&(i="target error - target name must be string type"),i)throw new Error(i);this.target=e,this.name=t,this.prefix=n}function n(e,t){this.targets={},this.name=e,this.listenFunc=[],this.prefix=t||"[PROJECT_NAME]",this.initListen()}return t.prototype.send=e?function(e){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+e,"*")}:function(e){var t=window.navigator[this.prefix+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(this.prefix+e,window)},n.prototype.addTarget=function(e,n){var i=new t(e,n,this.prefix);this.targets[n]=i},n.prototype.initListen=function(){var t=this,n=function(e){if((-1!==ee.indexOf(e.origin)||e.origin===window.location.origin)&&"object"==typeof e&&e.data&&e.data.indexOf&&e.data.indexOf("__Messenger__")>=0)for(var n=(e=e.data).split("__Messenger__"),i=(e=n[1],n[0].split("|")),r=i[0],o=i[1],a=0;a<t.listenFunc.length;a++)r+o===t.prefix+t.name&&t.listenFunc[a](e)};e?"addEventListener"in document?window.addEventListener("message",n,!1):"attachEvent"in document&&window.attachEvent("onmessage",n):window.navigator[this.prefix+this.name]=n},n.prototype.listen=function(e){for(var t=0,n=this.listenFunc.length,i=!1;t<n;t++)if(this.listenFunc[t]==e){i=!0;break}i||this.listenFunc.push(e)},n.prototype.clear=function(){this.listenFunc=[]},n.prototype.send=function(e){var t,n=this.targets;for(t in n)n.hasOwnProperty(t)&&n[t].send(e)},n}();function ne(e,t,n){var i=e.indexOf("?");return i>=0&&(i<e.indexOf("#")||e.indexOf("#")<0)?e.replace(/\?/,"?"+t+"="+encodeURIComponent(n)+"&"):e.indexOf("#")>=0?e.replace("#","?"+t+"="+encodeURIComponent(n)+"#"):e+"?"+t+"="+encodeURIComponent(n)}var ie=n(8),re=["type"];function oe(e){return ae.apply(this,arguments)}function ae(){return(ae=r()(p.a.mark((function e(t){var n,i,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t.type,i=a()(t,re),Object.keys(i||{}).reduce((function(e,n){var r=i[n];return t[n]=r,r?e+"&"+n+"="+r:e}),""),r=[""+t.log_key,"click"===n?"CLK":"EXP"],"poplayer","click"===n?t.ae_page_type="poplayer":t.exp_type="poplayer",t.spm_cnt=t.spm_cnt||"a2g0n.poplayer",t.sdkVersion="1.0.24","CLK"===r[1]?Object(ie.click)(t):Object(ie.exposure)(t)}catch(e){G("poplayer 打点上报出错:"+e,"src/util/log.ts")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=window.navigator.userAgent;function le(){return!!se.match(/(phone|pad|pod|iPhone|iPod|iPad|ios|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}var ce=n(7),pe=n.n(ce),de=n(21),ue=n.n(de);var me=function(e,t,n){var i,r,o,a,s=document.createElement("div");document.body.appendChild(s);var l=null==t||null===(i=t.params)||void 0===i?void 0:i.jsComboUrl,c=null===(r=l.match(/@ali\/gmod-(poplayer|pop)-[a-z]+/))||void 0===r?void 0:r[0],p=document.createElement("script");return p.src=l,null===(o=document.getElementsByTagName("head"))||void 0===o||null===(a=o[0])||void 0===a||a.appendChild(p),p.onload=function(){var i,r=document.body.getAttribute("data-spm")||"0";if(null!==(i=window)&&void 0!==i&&i[c]){var o=pe.a.createElement(window[c],{popInfo:t,positionSign:e.positionSign,parentSpmB:r,uuid:n});o&&ue.a.render(o,s)}else G("poplayer module not found: "+c,"src/page/index/new.ts")},s},fe=["callAppUrl","targetUrl","pageCode","needRedirect","isAutoCall","spm","pageId"],ve=(le(),le()?"a2g0n":"a2g0o"),ge=le()?"msite":"pc",ye=Date.now(),he="postMessage"in window;function _e(e){var t=[];for(var n in e)t.push(l()({},e[n],{uuid:n}));var i={smallImage:!1,other:!1},r=t.sort((function(e,t){return t.priority-e.priority})).filter((function(e){return e.times>e.showTimes}));return r.length?r.filter((function(e){if("smallImage"===e.type){if(!i.smallImage)return i.smallImage=!0,!0}else if(!i.other)return i.other=!0,!0;return!1})).map((function(e){return e.uuid})):[]}function we(e,t,n){var i=document.createElement("iframe"),r=t.split(/_/)&&t.split(/_/)[2];return r&&(i.src=ne(ne(ne(e,"__poplayer_preserve_uuid",r),"__prefix",w.__prefix||""),"__poplayer_position_sign",n),i.name=t,i.style.width="100%",i.style.height="100%",i.style.border="none",i.style.display="none",i.style.position="fixed",i.style.zIndex="-100",i.style.left="0",i.style.top="0",i.style.transform="translate3d(0, 0, -100)",document.body.appendChild(i)),i}function xe(e){return"number"==typeof e||/^\d+$/.test(""+e)?e+"px":e}function be(e,t,n,i){return void 0===i&&(i=0),{showTimes:0===t?-1:n||0}}function Ee(e,t,n,i,r,o,s){void 0===s&&(s=!1);var c=new te(e+"parent",void 0);c.addTarget(t.contentWindow||window,e),c.listen((function(c){var p,u,f,v=JSON.parse(c);switch(v.type){case"load":oe({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:ve+"."+o+".poplayer.loadsuccess",type:"expose",exp_page:i,positionSign:r,exp_type:"poplayer",houyiTrack:n,isNewModule:s,clientType:ge,extend:JSON.stringify(null!==(p=null==v?void 0:v.extend)&&void 0!==p?p:{})});break;case"resizeWidthPosition":v.payload&&v.payload.width&&(t.style.width=xe(v.payload.width)),v.payload&&v.payload.height&&(t.style.height=xe(v.payload.height)),v.payload&&v.payload.top&&(t.style.top=xe(v.payload.top)),v.payload&&v.payload.bottom&&(t.style.bottom=xe(v.payload.bottom)),v.payload&&v.payload.left&&(t.style.left=xe(v.payload.left)),v.payload&&v.payload.right&&(t.style.right=xe(v.payload.right));break;case"show":oe({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:ve+"."+o+".poplayer.display",type:"expose",positionSign:r,exp_page:i,exp_type:"poplayer",houyiTrack:n,clientType:ge,isNewModule:s,timeToShow:""+(Date.now()-ye),extend:JSON.stringify(null!=v&&v.extend?l()({m_page_id:window.dmtrack_pageid||"","spm-url":w.spm||""},v.extend):{})}),t.style.display="block",t.style.zIndex="1000000",t.style.transform="translate3d(0, 0, 10000)",Z({type:"reduceTime",payload:{key:e}}),J("poplayerShow","EXP",""+(Date.now()-ye));break;case"addTime":Z({type:"addTime",payload:{key:e,times:v.payload}});break;case"link":oe({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:ve+"."+o+".poplayer.jump",type:"click",positionSign:r,exp_page:i,exp_type:"poplayer",houyiTrack:n,clientType:ge,isNewModule:s,extend:JSON.stringify(null!==(u=null==v?void 0:v.extend)&&void 0!==u?u:{})});var y=v.payload;y=y.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),window.location.href=y;break;case"close":document.body.removeChild(t),oe({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:ve+"."+o+".poplayer.close",type:"click",positionSign:r,exp_page:i,exp_type:"poplayer",houyiTrack:n,clientType:ge,isNewModule:s,extend:JSON.stringify(null!=v&&v.extend?{m_page_id:window.dmtrack_pageid||"","spm-url":w.spm||""}:{})});break;case"failed":document.body.removeChild(t),oe({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:ve+"."+o+".poplayer.hidden",type:"expose",positionSign:r,exp_page:i,houyiTrack:n,isNewModule:s,exp_type:"poplayer",clientType:ge,extend:JSON.stringify(null!==(f=null==v?void 0:v.extend)&&void 0!==f?f:{})});break;case"callApp":var h=v.payload,_=h.callAppUrl,x=h.targetUrl,b=(h.pageCode,h.needRedirect),E=h.isAutoCall,S=h.spm,C=void 0===S?ve+"."+o+".poplayer.callapp":S,I=h.pageId,k=a()(h,fe);if(_)try{var T=d.Utils.fixCallUrlParams(_),R=g("xman_us_f","acs_rt");if(R){var A=new m({text:["$",R||"","$"].join("")});A.copy((function(){})),setTimeout((function(){A.destory()}),150)}Object(d.execCallApp)(l()({callAppUrl:T,callAppCallback:function(){},targetUrl:x,pageCode:o,needRedirect:void 0!==b?b:!!x,isAutoCall:E,spm:C,pageId:I||window.dmtrack_pageid||"",extParams:l()({track:n,fromAction:"poplayer"},k)},k)),oe({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:ve+"."+o+".poplayer.callapp",type:"click",positionSign:r,exp_page:i,exp_type:"poplayer",houyiTrack:n,clientType:ge,isNewModule:s,extend:JSON.stringify(null!=v&&v.extend?l()({m_page_id:window.dmtrack_pageid||"","spm-url":w.spm||""},v.extend):{})})}catch(t){G("poplayer "+e+" callAppUrl error: "+t,"src/page/index/index.ts"),console.log(t);try{if(b&&x){var O=d.Utils.createRedirectUrl(x,{pageCode:o,isAutoCall:E,spm:C,pageId:I||window.dmtrack_pageid||"","spm-url":w.spm||""});window.location.href=O}}catch(t){G("poplayer "+e+" callAppUrl redirect error: "+t,"src/page/index/index.ts"),console.error(t)}}document.body.removeChild(t);break;default:document.body.removeChild(t),G("poplayer "+e+":never unknown message happen, auto close poplayer","src/page/index/index.ts"),Q("never unknown message happen, auto close poplayer")}}))}function Se(){return(Se=r()(p.a.mark((function e(t){var n,i,r,o,a,s,c,d,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(t.positionSign),i=document.body.getAttribute("data-spm")||"0",oe({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:ve+"."+i+".poplayer.trigger",type:"expose",positionSign:t.positionSign,exp_page:t.positionSign,exp_type:"poplayer",clientType:ge}),r=Date.now(),e.next=6,q(t.positionSign,ge);case 6:o=e.sent,J("poplayerMtopTiming","OTHER",""+(Date.now()-r)),a=X(),s=null==o||null===(n=o.data)||void 0===n?void 0:n.popLayerRuleMap,c=Object.keys(s).reduce((function(e,t){var n;return l()({},e,((n={})[t]=JSON.parse(s[t]),n))}),{}),d=Object.keys(c).reduce((function(e,t){var n,i,r,o=c[t];return l()({},e,((r={})[o.uuid]=l()({times:o.times,type:o.type,priority:o.priority},be(0,o.times,null===(n=a[o.uuid])||void 0===n?void 0:n.showTimes,null===(i=a[o.uuid])||void 0===i?void 0:i.startTime)),r))}),{}),Z({type:"add",payload:d}),(u=_e(d)).length&&u.forEach((function(e){var n,r,o,a,s,l,p,d,u,m=null===(n=c[e])||void 0===n||null===(r=n.params)||void 0===r?void 0:r.extGcpOutputPageUrl,f=null===(o=c[e])||void 0===o||null===(a=o.params)||void 0===a?void 0:a.jsComboUrl,v=null===(s=c[e])||void 0===s?void 0:s.type,g=null===(l=c[e])||void 0===l||null===(p=l.params)||void 0===p?void 0:p.type;"placeholder"===v&&"emptyContent"===g&&oe({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:ve+"."+i+".poplayer.openurl",type:"expose",positionSign:t.positionSign,houyiTrack:null===(d=c[e])||void 0===d||null===(u=d.params)||void 0===u?void 0:u.track,exp_page:m,exp_type:"poplayer",clientType:ge});if(m&&he){var y,h,_,w;if(oe({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:ve+"."+i+".poplayer.openurl",type:"expose",positionSign:t.positionSign,houyiTrack:null===(y=c[e])||void 0===y||null===(h=y.params)||void 0===h?void 0:h.track,exp_page:m,exp_type:"poplayer",clientType:ge}),f){var x,b,E=null===(x=c[e])||void 0===x||null===(b=x.params)||void 0===b?void 0:b.track,S=me(t,c[e],e);return void Ee(e,S,E,window.location.href,t.positionSign,i,!0)}var C=m,I=we(C+=C.indexOf("?")>=0?"&parentSpmB="+i:"?parentSpmB="+i,e,t.positionSign);I.onerror=function(t){G(e+" poplayer iframe on error","src/page/index/index.ts")},Ee(e,I,null===(_=c[e])||void 0===_||null===(w=_.params)||void 0===w?void 0:w.track,m,t.positionSign,i)}}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){return Se.apply(this,arguments)}},70:function(e,t,n){"use strict";var i=n(26);t.__esModule=!0,t.getAffCookieData=a,t.parseUrl=s,t.getParameterByName=l,t.isRuDomain=c,t.isFunction=function(e){return"function"===(typeof e).toLowerCase()},t.serializeParams=p,t.addUrlParams=d,t.createRedirectUrl=function(e,t){void 0===e&&(e="");void 0===t&&(t={});return e?d(e,{fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",isFromSmb:!0,abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""}):""},t.createCallAppUrl=function(e,t){void 0===e&&(e="");void 0===t&&(t={});if(!e)return"";var n=t.cookieInfo,i=void 0===n?{}:n,o=a(),s={};o.aeuCid&&(s.aff_trace_key=t.aeuCid||o.aeuCid||"",s.aff_platform=t.aff_platform||"msite",s.browser_id=t.browserId||o.browserId||"");var l=t.accountId||o.accountId||"";l&&(s.accountId=l);return d(e,(0,r.default)({fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""},s,i))},t.createAppStoreUrl=function(e,t){void 0===e&&(e="");void 0===t&&(t={});if(!e)return"";var n=t.cookieInfo,i=void 0===n?{}:n;return d(e,(0,r.default)({m_page_id:t.pageId,fromPageCode:t.pageCode||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""},i))},t.jsonParse=function(e){void 0===e&&(e="");var t="";try{t=JSON.parse(e)||{}}catch(e){t=""}return t},t.getPageCode=function(){return(""+document.querySelector("body").getAttribute("data-spm")||"").trim()},t.getDay=function(e){void 0===e&&(e=0);var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setDate(t.getDate()+e),+t},t.getProductId=v,t.getDomain=g,t.getDefaultTargetUrl=function(){return"//"+g()+"/download-landing.html"},t.isAndroid=y,t.removeSmbUrlKey=h,t.fixCallUrlParams=function(e){void 0===e&&(e="");var t=e.trim(),n=s(e),i=window.location.href,o=h(s((a=i,(i=a.replace(/https:\/\/(.*?).aliexpress.com\/campaign/,"https://campaign.aliexpress.com").replace(/https:\/\/(.*?).aliexpress.com\/pre-campaign/,"https://pre-wormhole.aliexpress.com"))||""))||{});var a;if(t.indexOf(_.DETAIL)>-1){var l=n.productId?n.productId:v(i),c=(0,r.default)({},n,{productId:l});return["gps-id","pvid","scm","scm-url","scm_id"].forEach((function(e){o[e]&&(c[e]=o[e])})),t=d(_.DETAIL,c)}if(t.indexOf(_.STORE)>-1){if(y()){t=d(_.GOTO,{url:i})}else{var p=(0,r.default)({},n,{sellerAdminSeq:n.sellerId||o.sellerId||"",shopId:n.shopId||o.sellerId||""});t=d(_.STORE,p)}return t}if(t.indexOf(_.GOTO)>-1){if(n.url)return t;var u=(0,r.default)({},n,{url:i});return t=d(t,u)}return t},t.SCHEME_MAP=t.isSmbLog=t.isDebug=t.getPageSpm=void 0;var r=i(n(4)),o=i(n(33));function a(){return{aeuCid:o.default.getAeucid(),browserId:o.default.getACS_RT(),lang:o.default.getLocale()||"",shipToCountry:o.default.getRegion()||"",currency:o.default.getCurrency()||"",accountId:o.default.getMemberSeq()||""}}function s(e){var t={},n=e.match(/\?[^#]*/);return n&&1!==n[0].length?(n[0].slice(1).split("&").forEach((function(e){n=e.split("="),t[n[0]]=decodeURIComponent(n[1]||"")})),t):t}function l(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function c(){return/aliexpress\.ru/.test(window.location.host)}function p(e){return void 0===e&&(e={}),Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function d(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),e.indexOf("?")>-1?e+"&"+p(t):e+"?"+p(t)}var u=function(){var e="",t="";try{var n=document.querySelector('meta[name="data-spm"]');e=n?n.getAttribute("content"):"a2g0n",t=document.querySelector("body").getAttribute("data-spm")||"unknow"}catch(n){e="",t=""}var i=[e,t].join(".");return function(){return i}}();t.getPageSpm=u;var m=/true/.test(l("isSmbDebug"));t.isDebug=m;var f=/true/.test(l("isSmbLog"));function v(e){void 0===e&&(e="");return((e.split("?")[0]||"").match(/aliexpress\.(com|ru)\/(item|i)\/(.*)\.htm(l?)/)||[])[3]||""}function g(){return c()?"m.aliexpress.ru":"m.aliexpress.com"}function y(){var e=window.navigator.userAgent;return e.indexOf("Android")>-1||e.indexOf("Linux")>-1}t.isSmbLog=f;function h(e){void 0===e&&(e={});var t={};for(var n in e)"cancleSmbFatigueCrtl,isSmbDebug,isSMBLog,isSmbAutoCall,needSmbRedirect,smbTargetUrl,smbCallAppScheme,isSmbShow,needSmbHouyi,smbThemes,isSmbActive,needSmbAutoCallRedirect".indexOf(n)>-1||(t[n]=e[n]);return t}var _={HOME:"aliexpress://home",DETAIL:"aliexpress://product/detail",STORE:"aliexpress://store/home",LOGIN:"aliexpress://member/signin",ACCOUNT:"aliexpress://account",SHOPCART:"aliexpress://cart",PROFILE:"aliexpress://profile",WISHLIST:"aliexpress://wishlist",WISHSTORELIST:"aliexpress://wishstorelist",SEARCHLIST:"aliexpress://search/list",CATEGORYLIST:"aliexpress://native/goto/category",GOTO:"aliexpress://goto"};t.SCHEME_MAP=_}}]);